<!DOCTYPE html>
<html><head>
  {{$ styles}}
</head>
<body>
  <div class="navbar navbar-inverse navbar-fixed-top">
    <div class="navbar-inner">
      <div class="container">
        <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="brand" href="#" id="app-name"></a>
        <div class="nav-collapse collapse">
          <ul class="nav">
            <li><a href="#infoModal" role="button" data-toggle="modal">About</a></li>
          </ul>
          <button class="btn btn-success pull-right" type="button" id="draw"-toggle""><i class="icon-map-marker icon-white"></i> Create Point</button>
<!--           <button class="btn btn-success pull-right" type="button" id="draw-toggle">Create Point</button> -->
        </div><!--/.nav-collapse -->
      </div>
    </div>
  </div>
  <!-- a placeholder for my list of things, with an input for adding new things -->
  <div id="map">
  </div>
  <!-- Modal -->
	<div id="infoModal" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	  <div class="modal-header">
	    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">Ã—</button>
	    <h3 id="app-modal-title"></h3>
	  </div>
	  <div class="modal-body" id="app-modal-body"></div>
	  <div class="modal-footer">
	    <button class="btn btn-success" data-dismiss="modal" aria-hidden="true">Get in there!</button>
	  </div>
	</div>

  {{$ scripts}}
  <script>
    $('#infoModal').modal('hide');
    var siteConfig = Backbone.Model.extend({});

    var siteConfigs = Backbone.Collection.extend({
        model: siteConfig,
        url: "/backlift/data/siteConfigs"
    });
    var configSettings = new siteConfigs();
    configSettings.fetch({
        success: function () {
            siteSettings = configSettings.first().attributes;
            console.log("Site Name: "+siteSettings.siteName);
            $('#app-name').html(siteSettings.siteName);
            $('#app-modal-title').html(siteSettings.siteInfoTitle);
            $('#app-modal-body').html(siteSettings.siteInfoText);
            $('#infoModal').modal('show');
        }
    });
    
  </script>
</body>
</html>